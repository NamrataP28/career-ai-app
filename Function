def generate_pdf(results_df, extracted_skills, experience):
    buffer = io.BytesIO()
    doc = SimpleDocTemplate(buffer, pagesize=letter)
    elements = []
    styles = getSampleStyleSheet()

    elements.append(Paragraph("AI Career Intelligence Report", styles["Heading1"]))
    elements.append(Spacer(1, 12))

    elements.append(Paragraph(f"Skills: {extracted_skills}", styles["Normal"]))
    elements.append(Paragraph(f"Experience: {experience} years", styles["Normal"]))
    elements.append(Spacer(1, 12))

    data = [["Role", "Country", "Interview Probability"]]

    for _, row in results_df.iterrows():
        data.append([
            row["Role"],
            row["Country"],
            f"{row['Estimated Interview Probability']:.2f}%"
        ])

    table = Table(data)
    elements.append(table)

    doc.build(elements)
    buffer.seek(0)
    return buffer
